using System;
using AutoMapper;
using DataAccessProduct = KatlaSport.DataAccess.ProductCatalogue.CatalogueProduct;
using DataAccessProductCategory = KatlaSport.DataAccess.ProductCatalogue.ProductCategory;

namespace KatlaSport.Services.ProductManagement
{
    public sealed class ProductManagementMappingProfile : Profile
    {
        public ProductManagementMappingProfile()
        {
            CreateMap<DataAccessProductCategory, ProductCategory>();
            CreateMap<DataAccessProductCategory, ProductCategoryListItem>();
            CreateMap<DataAccessProduct, ProductCategoryProductListItem>();

            CreateMap<DataAccessProduct, Product>()
<<<<<<< HEAD
                .ForMember(li => li.ManufacturerCode,
                    opt => opt.MapFrom(p => p.ManufacturerCode == null ? string.Empty : p.ManufacturerCode))
                .ForMember(li => li.Description,
                    opt => opt.MapFrom(p => p.Description == null ? string.Empty : p.Description));
=======
                .ForMember(li => li.Description,
                    opt => opt.MapFrom(p => p.Discription == null ? string.Empty : p.Discription))
                .ForMember(li => li.ManufacturerCode,
                    opt => opt.MapFrom(p => p.ManufacturerCode == null ? string.Empty : p.ManufacturerCode));
>>>>>>> 1039ec6a5d1a59f650c07c27ac58124a582f34c6

            CreateMap<DataAccessProduct, ProductListItem>()
                .ForMember(li => li.CategoryCode, opt => opt.MapFrom(p => p.Category.Code));

            CreateMap<UpdateProductCategoryRequest, DataAccessProductCategory>()
                .ForMember(r => r.LastUpdated, opt => opt.MapFrom(p => DateTime.UtcNow));

            CreateMap<UpdateProductRequest, DataAccessProduct>()
                .ForMember(r => r.LastUpdated, opt => opt.MapFrom(p => DateTime.UtcNow));
        }
    }
}